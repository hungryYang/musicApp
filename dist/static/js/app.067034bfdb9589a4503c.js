webpackJsonp([1,2],Array(20).concat([function(t,e,n){n(104);var s=n(9)(n(57),n(115),"data-v-3a996196",null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(101);var s=n(9)(n(56),n(112),"data-v-02b88d7e",null);t.exports=s.exports},function(t,e,n){"use strict";var s=n(21),i=n(119),o=n(109),a=n.n(o),r=n(111),c=n.n(r),u=n(110),l=n.n(u),d=n(108),p=n.n(d);s.a.use(i.a),e.a=new i.a({routes:[{path:"/discovery",component:a.a,name:"discovery"},{path:"/mymusic",component:c.a,name:"mymusic"},{path:"/friends",component:l.a,name:"friends"},{path:"/account",component:p.a,name:"account"}]})},function(t,e,n){n(107);var s=n(9)(n(51),n(118),null,null);t.exports=s.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(100),i=(n.n(s),n(58)),o=n(48),a=n.n(o);e.default={name:"app",created:function(){var t=localStorage.getItem("oldMusicList");t&&(t=JSON.parse(t),this.$store.commit("loadOldMusic",t))},computed:{playingFlag:function(){return this.$store.state.playingFlag}},store:i.a,components:{NowPlaying:a.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(20),i=n.n(s);e.default={components:{Playing:i.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(20),i=n.n(s),o=n(48),a=n.n(o);e.default={name:"DiscoverMusic",computed:{musicList:function(){return this.$store.state.musicList},mp3:function(){return this.$store.state.mp3}},updated:function(){},methods:{searchSong:function(){if(""==document.getElementsByName("search_text")[0].value)return void(document.querySelector("#loading").innerText="请输入想要搜索的内容。。。");document.querySelector("#loading")&&(document.querySelector("#loading").innerText="正在搜索..."),document.querySelector("button").innerText="正在搜索";var t="type=search&limit=100&s="+document.getElementsByName("search_text")[0].value;this.$store.dispatch("search",t).then(function(){document.querySelector("button").innerText="搜索音乐"})},getSong:function(t){var e=t.id;this.$store.dispatch("get",e);var n=t.al.picUrl,s=t.name,i=t.ar[0].name,o={songId:e,img:n,singer:i,musicName:s};this.$store.commit("addOldMusic",o),this.$store.commit("updateOldMusicList");var a={img:n,musicName:s,singer:i};this.$store.commit("setNowMusic",a)}},components:{Playing:i.a,NowPlaying:a.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(20),i=n.n(s);e.default={components:{Playing:i.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(20),i=n.n(s);e.default={computed:{oldMusicList:function(){return this.$store.state.oldMusicList}},methods:{getSong:function(t){var e=t.songId;this.$store.dispatch("get",e);var n=t.img,s=t.musicName,i=t.singer;console.log(t);var o={img:n,musicName:s,singer:i};this.$store.commit("setNowMusic",o)}},components:{Playing:i.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{mp3:function(){return this.$store.state.mp3},nowPlay:function(){return this.$store.state.nowPlay}},updated:function(){var t=this;setTimeout(function(){document.getElementById("play").setAttribute("src",t.$store.state.mp3)},500),document.querySelector("#backImg").style.background="url("+this.$store.state.nowPlay.img+") repeat-x",document.querySelector("#backImg").style.backgroundSize="contain"},methods:{close:function(){this.$store.state.playingFlag=""}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{show:function(){this.$store.state.playingFlag="true"}}}},function(t,e,n){"use strict";var s=n(60),i=n.n(s),o=n(59),a=n.n(o),r=n(63),c=n.n(r),u=n(21),l=n(121);u.a.use(l.a),e.a=new l.a.Store({state:{musicList:[],mp3:"",oldMusicList:[],playingFlag:"",img:"",nowPlay:{img:"",musicName:"",singer:""}},mutations:{Ajax:function(t,e){var n=e.type,s=e.url,i=e.data,o=e.success,a=e.failed,r=null;r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");var n=n.toUpperCase(),u=Math.random();if("object"==(void 0===i?"undefined":c()(i))){var l="";for(var d in i)l+=d+"="+i[d]+"&";i=l.replace(/&$/,"")}"GET"==n?(i?r.open("GET",s+"?"+i,!0):r.open("GET",s+"?t="+u,!0),r.send()):"POST"==n&&(r.open("POST",s,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send(i)),r.onreadystatechange=function(){4==r.readyState&&(200==r.status?o(r.responseText):a&&a(r.status))}},addOldMusic:function(t,e){for(var n in t.oldMusicList)if(t.oldMusicList[n].songId===e.songId)return;t.oldMusicList.push(e)},updateOldMusicList:function(t){localStorage.setItem("oldMusicList",a()(t.oldMusicList))},loadOldMusic:function(t,e){t.oldMusicList=e},setNowMusic:function(t,e){t.nowPlay=e}},actions:{search:function(t,e){var n=t.commit,s=t.state;return console.log(333),i.a.resolve({then:function(t,i){n("Ajax",{type:"get",url:"https://api.imjad.cn/cloudmusic/",data:e,success:function(e){e=JSON.parse(e),s.musicList=e.result.songs,console.log(e),t()},failed:function(t){alert(t)}})}})},get:function(t,e){var n=t.commit,s=t.state;n("Ajax",{type:"get",url:"https://api.imjad.cn/cloudmusic/",data:"type=song&id="+e+"&br=128000",success:function(t){t=JSON.parse(t),s.mp3=t.data[0].url,s.playingFlag=s.mp3}})}}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){n(103);var s=n(9)(n(52),n(114),"data-v-27f6f1b4",null);t.exports=s.exports},function(t,e,n){n(102);var s=n(9)(n(53),n(113),"data-v-1ffe881e",null);t.exports=s.exports},function(t,e,n){n(105);var s=n(9)(n(54),n(116),"data-v-4820bd1c",null);t.exports=s.exports},function(t,e,n){n(106);var s=n(9)(n(55),n(117),"data-v-5f204d60",null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"NowPlaying"}},[n("div",{attrs:{id:"header"}},[n("div",{on:{click:t.close}},[t._v("<")]),t._v(" "),n("div",[n("div",[t._v(t._s(t.nowPlay.musicName))]),t._v(" "),n("div",[t._v(t._s(t.nowPlay.singer))])]),t._v(" "),n("div")]),t._v(" "),n("div",{attrs:{id:"backImg"}}),t._v(" "),n("audio",{attrs:{id:"play",loop:"",autoplay:"",controls:"controls"}},[n("source",{attrs:{src:t.mp3}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("header",[n("span"),t._v(" "),n("span",[n("i",{staticClass:"iconfont icon-sousuo_sousuo"}),t._v(" "),n("input",{attrs:{type:"search",placeholder:"搜索音乐",name:"search_text"},on:{keyup:function(e){if(t._k(e.keyCode,"enter",13))return null;t.searchSong(e)}}}),t._v(" "),n("button",{on:{click:t.searchSong}},[t._v("搜索音乐")])]),t._v(" "),n("span",[n("Playing")],1)]),t._v(" "),n("main",[t.musicList[0]?n("ul",t._l(t.musicList,function(e){return n("li",{on:{click:function(n){t.getSong(e)}}},[n("span",[t._v(t._s(e.name))]),t._v(" "),n("span",[t._v(t._s(e.ar[0].name))])])})):n("div",{attrs:{id:"loading"}},[t._v("\n      请搜索您喜欢的音乐、歌手\n    ")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("header",[n("span"),t._v(" "),n("span",[t._v("\n       账号\n    ")]),t._v(" "),n("span",[n("Playing")],1)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{on:{click:t.show}},[n("i",{staticClass:"iconfont icon-yinle"})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("header",[t._m(0),t._v(" "),t._m(1),t._v(" "),n("span",[n("Playing")],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("i",{staticClass:"iconfont icon-tianjiaguanzhu"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("ul",[n("li",[t._v("关注")]),t._v(" "),n("li",[t._v("附近")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("header",[n("span"),t._v(" "),n("span",[t._v("\n       最近播放\n    ")]),t._v(" "),n("span",[n("Playing")],1)]),t._v(" "),n("main",[n("ul",t._l(t.oldMusicList,function(e){return n("li",{on:{click:function(n){t.getSong(e)}}},[n("span",[t._v(t._s(e.musicName))]),t._v(" "),n("span",[t._v(t._s(e.singer))])])}))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"bounce"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.playingFlag,expression:"playingFlag"}],attrs:{id:"nowPlaying"}},[n("NowPlaying")],1)]),t._v(" "),n("router-view"),t._v(" "),n("footer",[n("ul",[n("li",[n("router-link",{attrs:{to:"/discovery"}},[n("span",[n("i",{staticClass:"iconfont icon-wangyiyunyinlezizhi"})]),t._v(" "),n("span",[t._v("发现音乐")])])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"/mymusic"}},[n("span",[n("i",{staticClass:"iconfont icon-iconupload"})]),t._v(" "),n("span",[t._v("最近播放")])])],1)])])],1)},staticRenderFns:[]}},,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(21),i=n(50),o=n.n(i),a=n(49);s.a.config.productionTip=!1,new s.a({el:"#app",router:a.a,template:"<App/>",components:{App:o.a}}),a.a.push("discovery")}]),[123]);
//# sourceMappingURL=app.067034bfdb9589a4503c.js.map